{"version":3,"file":"rbac.js","sourceRoot":"","sources":["../../src/middleware/rbac.ts"],"names":[],"mappings":"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"}