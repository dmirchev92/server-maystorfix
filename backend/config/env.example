# ServiceText Pro Backend Configuration
# GDPR-compliant environment variables

# ===== Application Configuration =====
NODE_ENV=development
PORT=3001
APP_VERSION=1.0.0
API_VERSION=v1

# ===== Security Configuration =====
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
BCRYPT_ROUNDS=12

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===== Local Database Configuration =====
# PostgreSQL (using your existing E:\postgre installation)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=servicetext_pro
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-postgres-password
POSTGRES_SSL=false

# MongoDB (local installation - optional, can use JSON files for small scale)
MONGODB_URI=mongodb://localhost:27017/servicetext_pro
MONGODB_DB=servicetext_pro

# Redis (local installation - can use in-memory cache for development)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ===== External API Configuration =====
# WhatsApp Business API
WHATSAPP_ACCESS_TOKEN=your-whatsapp-access-token
WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your-webhook-verify-token
WHATSAPP_BUSINESS_ACCOUNT_ID=your-business-account-id

# Viber Business Messages
VIBER_AUTH_TOKEN=your-viber-auth-token
VIBER_BOT_NAME=ServiceTextPro
VIBER_WEBHOOK_URL=https://your-domain.com/api/v1/webhooks/viber

# Telegram Bot
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
TELEGRAM_WEBHOOK_URL=https://your-domain.com/api/v1/webhooks/telegram

# Twilio SMS Service
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=your-twilio-phone-number
TWILIO_IS_TRIAL=true

# ===== GDPR & Compliance Configuration =====
# Data Protection Officer contact
DPO_EMAIL=dpo@servicetextpro.bg
DPO_PHONE=+359-2-xxx-xxxx
DPO_ADDRESS=Sofia, Bulgaria

# Data retention periods (in months)
CONVERSATION_RETENTION_MONTHS=24
BUSINESS_DATA_RETENTION_MONTHS=60
ANALYTICS_RETENTION_MONTHS=12
AUDIT_LOG_RETENTION_MONTHS=84

# GDPR compliance settings
GDPR_ENABLED=true
AUTO_DELETE_EXPIRED_DATA=true
CONSENT_REQUIRED_FOR_ANALYTICS=true
ANONYMIZE_EXPIRED_DATA=true

# ===== Bulgarian Market Configuration =====
# Business registry API (for ЕИК/ДДС validation)
BG_BUSINESS_REGISTRY_API_URL=https://public.brra.bg/CheckUps/Verifications/
BG_BUSINESS_REGISTRY_API_KEY=your-api-key

# Sofia traffic API (for scheduling optimization)
SOFIA_TRAFFIC_API_URL=https://api.sofia.bg/traffic/
SOFIA_TRAFFIC_API_KEY=your-sofia-api-key

# Currency and localization
DEFAULT_CURRENCY=BGN
DEFAULT_LOCALE=bg-BG
DEFAULT_TIMEZONE=Europe/Sofia

# ===== Email Configuration (SMTP with DKIM) =====
# Namecheap Private Email SMTP settings
SMTP_HOST=mail.privateemail.com
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=admin@maystorfix.com
SMTP_PASSWORD=your-email-password
SMTP_FROM_EMAIL=admin@maystorfix.com
SMTP_FROM_NAME=MaystorFix

# DKIM Configuration
DKIM_DOMAIN=maystorfix.com
DKIM_SELECTOR=default
# DKIM_PRIVATE_KEY should be the full private key with \n for newlines

# Email Token Expiry
EMAIL_VERIFICATION_EXPIRY_HOURS=24
PASSWORD_RESET_EXPIRY_HOURS=1
EMAIL_VERIFICATION_BASE_URL=https://maystorfix.com
PASSWORD_RESET_BASE_URL=https://maystorfix.com

# Subscription Reminder Days (comma-separated)
SUBSCRIPTION_REMINDER_DAYS=7,3,1

# ===== Feature Flags =====
# Enable/disable features
ENABLE_AI_CONVERSATIONS=true
ENABLE_SOFIA_TRAFFIC_INTEGRATION=true
ENABLE_CERTIFICATION_VALIDATION=true
ENABLE_MARKET_INTELLIGENCE=true
ENABLE_ADVANCED_ANALYTICS=true
