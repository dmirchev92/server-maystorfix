(()=>{var e={};e.id=74,e.ids=[74],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},8893:e=>{"use strict";e.exports=require("buffer")},1282:e=>{"use strict";e.exports=require("child_process")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},1393:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(9062),s(9468),s(5866);var r=s(3191),i=s(8716),o=s(7922),a=s.n(o),n=s(5231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let d=["",{children:["u",{children:["[spIdentifier]",{children:["c",{children:["[token]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9062)),"/var/www/servicetextpro/Marketplace/src/app/u/[spIdentifier]/c/[token]/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9468)),"/var/www/servicetextpro/Marketplace/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/var/www/servicetextpro/Marketplace/src/app/u/[spIdentifier]/c/[token]/page.tsx"],m="/u/[spIdentifier]/c/[token]/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/u/[spIdentifier]/c/[token]/page",pathname:"/u/[spIdentifier]/c/[token]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8784:(e,t,s)=>{Promise.resolve().then(s.bind(s,2188))},2188:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(326),i=s(7577),o=s(5047),a=s(4464);function n({params:e}){let{spIdentifier:t,token:s}=e;(0,o.useRouter)();let[n,l]=(0,i.useState)(!1),[d,c]=(0,i.useState)(null),[m,u]=(0,i.useState)(null),[x,h]=(0,i.useState)(!1),[p,g]=(0,i.useState)([]),[b,f]=(0,i.useState)(""),[w,v]=(0,i.useState)(!1),[j,N]=(0,i.useState)(!1),[k,y]=(0,i.useState)(!1),[D,C]=(0,i.useState)({name:"",phone:"",email:"",password:"",confirmPassword:""}),[I,S]=(0,i.useState)("register"),[q,P]=(0,i.useState)(null),[$,_]=(0,i.useState)({businessName:"",firstName:"",serviceCategory:"electrician"}),E=async()=>{try{l(!0),u(null),console.log("Validating token:",{spIdentifier:t,token:s.substring(0,4)+"****"});let e=await a.Z.get(`https://maystorfix.com/api/v1/chat/public/${t}/validate/${s}`,{timeout:1e4,headers:{"Content-Type":"application/json"}});if(e.data.success){console.log("Token validation successful:",e.data);let r=`chat_session_${t}`,i=`chat_token_${t}`;e.data.data.sessionId&&(localStorage.setItem(r,e.data.data.sessionId),localStorage.setItem(i,s),console.log("Stored session ID:",e.data.data.sessionId),console.log("Stored token:",s)),c({valid:!0,userId:e.data.data.userId,conversationId:e.data.data.conversationId}),y(!0),console.log("\uD83D\uDCDD Showing customer form for token:",s)}else console.error("Token validation failed:",e.data),c({valid:!1,error:e.data.error?.message||"Token validation failed"})}catch(t){console.error("Token validation error:",t);let e="Failed to validate chat token";t.response?.data?.error?.message?e=t.response.data.error.message:t.message&&(e=t.message),c({valid:!1,error:e}),u(e)}finally{l(!1)}},M=async()=>{h(!0),await E()},T=async()=>{if(!b.trim()||w||!d?.conversationId){console.log("❌ Cannot send message:",{hasMessage:!!b.trim(),isSending:w,hasConversationId:!!d?.conversationId,conversationId:d?.conversationId});return}console.log("\uD83D\uDCE4 Sending message:",{conversationId:d.conversationId,messageLength:b.length,validationResult:d}),v(!0);try{let e={id:Date.now().toString(),text:b,sender:"customer",timestamp:new Date().toISOString()};g(t=>[...t,e]),f("");let t=`https://maystorfix.com/api/v1/marketplace/conversations/${d.conversationId}/messages`;console.log("\uD83D\uDCE4 Sending message to:",t),await a.Z.post(t,{senderType:"customer",senderName:D.name||"Customer",message:b,messageType:"text"}),console.log("✅ Message sent successfully")}catch(e){console.error("❌ Failed to send message:",e),console.error("❌ Error details:",{message:e.message,status:e.response?.status,statusText:e.response?.statusText,data:e.response?.data,url:e.config?.url}),alert(`Грешка при изпращане на съобщението: ${e.response?.status||"Неизвестна грешка"}

Детайли: ${e.response?.data?.error?.message||e.message}`),g(e=>e.filter(e=>e.id!==Date.now().toString()))}finally{v(!1)}},F=(e,t)=>{C(s=>({...s,[e]:t})),P(null)},L=async e=>{if(e.preventDefault(),P(null),!D.name||!D.email||!D.phone||!D.password){P("Моля попълнете всички полета");return}if(D.password!==D.confirmPassword){P("Паролите не съвпадат");return}if(D.password.length<6){P("Паролата трябва да е поне 6 символа");return}try{let e=await a.Z.post("https://maystorfix.com/api/v1/auth/register",{email:D.email,password:D.password,firstName:D.name.split(" ")[0]||D.name,lastName:D.name.split(" ").slice(1).join(" ")||"",phoneNumber:D.phone,role:"customer"});if(e.data?.success){console.log("Registration successful, auto-logging in...");let e=await a.Z.post("https://maystorfix.com/api/v1/auth/login",{email:D.email,password:D.password});console.log("Login response after registration:",e.data);let s=e.data?.data?.tokens?.accessToken,r=e.data?.data?.user;if(s&&r){console.log("Token and user received, saving to localStorage"),localStorage.setItem("auth_token",s),localStorage.setItem("user_data",JSON.stringify(r));try{let e=`https://maystorfix.com/api/v1/marketplace/conversations/${d?.conversationId}`;console.log("\uD83D\uDD04 Updating conversation with customer email before redirect:",{conversationId:d?.conversationId,customerEmail:r.email,customerName:`${r.firstName} ${r.lastName}`.trim(),customerPhone:r.phoneNumber}),await a.Z.put(e,{customerName:`${r.firstName} ${r.lastName}`.trim(),customerPhone:r.phoneNumber,customerEmail:r.email}),console.log("✅ Conversation updated with customer email")}catch(e){console.error("❌ Failed to update conversation:",e)}console.log("Redirecting to main page with chat open...");let e=d?.userId||t;window.location.href=`/?openChat=true&providerId=${e}`}else console.error("No token in response"),P("Грешка: Не е получен токен за вход след регистрация")}}catch(e){console.error("Registration error:",e),P(e.response?.data?.error?.message||e.response?.data?.message||"Грешка при регистрация")}},A=async e=>{if(e.preventDefault(),P(null),!D.email||!D.password){P("Моля въведете email и парола");return}try{let e=await a.Z.post("http://192.168.0.129:3000/api/v1/auth/login",{email:D.email,password:D.password});console.log("\uD83D\uDD0D Full login response:",e),console.log("\uD83D\uDD0D loginResponse.data:",e.data),console.log("\uD83D\uDD0D loginResponse.data.data:",e.data?.data),console.log("\uD83D\uDD0D loginResponse.data.data.tokens:",e.data?.data?.tokens);let s=e.data?.data?.tokens?.accessToken,r=e.data?.data?.user;if(console.log("\uD83D\uDD0D Extracted token:",s),console.log("\uD83D\uDD0D Extracted user:",r),s&&r){console.log("Token and user received, saving to localStorage"),localStorage.setItem("auth_token",s),localStorage.setItem("user_data",JSON.stringify(r)),console.log("Token and user saved successfully!");try{let e=`https://maystorfix.com/api/v1/marketplace/conversations/${d?.conversationId}`;console.log("\uD83D\uDD04 Updating conversation with customer email before redirect:",{conversationId:d?.conversationId,customerEmail:r.email,customerName:`${r.firstName} ${r.lastName}`.trim(),customerPhone:r.phoneNumber}),await a.Z.put(e,{customerName:`${r.firstName} ${r.lastName}`.trim(),customerPhone:r.phoneNumber,customerEmail:r.email}),console.log("✅ Conversation updated with customer email")}catch(e){console.error("❌ Failed to update conversation:",e)}console.log("Redirecting to main page with chat open...");let e=d?.userId||t;window.location.href=`/?openChat=true&providerId=${e}`}else console.error("No token in response"),P("Грешка: Не е получен токен за вход")}catch(e){console.error("Login error:",e),P(e.response?.data?.error?.message||e.response?.data?.message||"Грешка при вход")}};return n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-indigo-900 flex items-center justify-center",children:r.jsx("div",{className:"bg-white/10 backdrop-blur-md p-8 rounded-lg shadow-xl border border-white/20 max-w-md w-full mx-4",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Проверяване на връзката..."}),r.jsx("p",{className:"text-indigo-200",children:"Моля, изчакайте докато проверим вашата връзка."})]})})}):k&&d?.valid?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-indigo-900 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-md p-8 rounded-lg shadow-xl border border-white/20 max-w-md w-full mx-4",children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-indigo-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-indigo-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,r.jsxs)("h2",{className:"text-xl font-semibold text-white mb-2",children:["Започнете чат с ",$.businessName||$.firstName]}),r.jsx("p",{className:"text-indigo-200 mb-4",children:"Регистрирайте се или влезте за да започнете разговор"}),(0,r.jsxs)("div",{className:"flex gap-2 mb-4",children:[r.jsx("button",{type:"button",onClick:()=>S("register"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all ${"register"===I?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-white/10 text-indigo-200 hover:bg-white/20"}`,children:"Регистрация"}),r.jsx("button",{type:"button",onClick:()=>S("login"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all ${"login"===I?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-white/10 text-indigo-200 hover:bg-white/20"}`,children:"Вход"})]}),q&&r.jsx("div",{className:"mb-3 p-2 bg-red-500/20 border border-red-500/50 rounded-lg text-red-200 text-sm",children:q})]}),(0,r.jsxs)("form",{onSubmit:"register"===I?L:A,className:"space-y-4",children:["register"===I&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-white mb-1",children:"Име *"}),r.jsx("input",{type:"text",id:"name",value:D.name,onChange:e=>F("name",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Вашето име",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-white mb-1",children:"Телефон *"}),r.jsx("input",{type:"tel",id:"phone",value:D.phone,onChange:e=>F("phone",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"0888 123 456",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-1",children:"Email *"}),r.jsx("input",{type:"email",id:"email",value:D.email,onChange:e=>F("email",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"your@email.com",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-1",children:"Парола *"}),r.jsx("input",{type:"password",id:"password",value:D.password,onChange:e=>F("password",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Мин. 6 символа",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-white mb-1",children:"Потвърди парола *"}),r.jsx("input",{type:"password",id:"confirmPassword",value:D.confirmPassword,onChange:e=>F("confirmPassword",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Потвърдете паролата",required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-green-600 to-blue-600 text-white py-2 px-4 rounded-md hover:from-green-700 hover:to-blue-700 transition-all font-medium shadow-lg",children:"\uD83D\uDE80 Регистрирай се и започни чат"}),r.jsx("p",{className:"text-xs text-indigo-300 text-center",children:"Ще бъдете автоматично влезли след регистрацията"})]}),"login"===I&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-1",children:"Email *"}),r.jsx("input",{type:"email",id:"email",value:D.email,onChange:e=>F("email",e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"your@email.com",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-1",children:"Парола *"}),r.jsx("input",{type:"password",id:"password",value:D.password,onChange:e=>F("password",e.target.value),onKeyPress:e=>"Enter"===e.key&&A(e),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Вашата парола",required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-indigo-500 to-pink-500 text-white py-2 px-4 rounded-md hover:from-indigo-600 hover:to-pink-600 transition-all font-medium shadow-lg",children:"\uD83D\uDD13 Влез и започни чат"}),r.jsx("p",{className:"text-xs text-indigo-300 text-center",children:"Ще бъдете автоматично влезли и чатът ще се отвори"})]})]})]})}):x&&!d?.valid?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-indigo-900 flex items-center justify-center",children:r.jsx("div",{className:"bg-white/10 backdrop-blur-md p-8 rounded-lg shadow-xl border border-white/20 max-w-md w-full mx-4",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-red-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Невалидна връзка"}),r.jsx("p",{className:"text-indigo-200 mb-4",children:d?.error||"Тази връзка вече не е активна или е изтекла."}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gradient-to-r from-indigo-500 to-pink-500 text-white py-2 px-4 rounded-md hover:from-indigo-600 hover:to-pink-600 transition-all shadow-lg",children:"Опитайте отново"}),r.jsx("p",{className:"text-sm text-indigo-300",children:"Ако проблемът продължава, моля обадете се отново."})]})]})})}):x||d?.valid?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-indigo-900",children:[r.jsx("div",{className:"bg-white/10 backdrop-blur-md shadow-lg border-b border-white/20",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-xl font-semibold text-white",children:["\uD83D\uDCAC Чат с ",$?.businessName||"техник"]}),r.jsx("p",{className:"text-sm text-indigo-200",children:"Опишете вашия проблем и ще получите бърз отговор"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm text-indigo-200",children:"Онлайн"})]})]})})}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-lg shadow-xl border border-white/20 min-h-[600px] flex flex-col",children:[r.jsx("div",{className:"p-6 border-b border-white/20 bg-indigo-500/10",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-pink-500 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-sm font-medium",children:$?.businessName?.charAt(0).toUpperCase()||"Т"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-lg shadow-sm border border-white/30",children:[(0,r.jsxs)("p",{className:"text-white mb-2",children:["Здравейте! Аз съм ",$?.firstName||$?.businessName||"вашият техник","."]}),r.jsx("p",{className:"text-indigo-100 text-sm",children:"Моля, опишете какъв е проблемът и ще ви помогна възможно най-бързо. Ако е спешно, споменете това в съобщението."})]}),r.jsx("p",{className:"text-xs text-indigo-300 mt-2",children:"Сега"})]})]})}),r.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:r.jsx("div",{className:"space-y-4",children:0===p.length?r.jsx("div",{className:"text-center text-indigo-300 py-8",children:r.jsx("p",{children:"Започнете разговора като напишете съобщение по-долу"})}):p.map(e=>r.jsx("div",{className:`flex ${"customer"===e.sender?"justify-end":"justify-start"}`,children:(0,r.jsxs)("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${"customer"===e.sender?"bg-gradient-to-r from-indigo-500 to-pink-500 text-white shadow-lg":"bg-white/20 backdrop-blur-sm text-white border border-white/30"}`,children:[r.jsx("p",{children:e.text}),r.jsx("p",{className:`text-xs mt-1 ${"customer"===e.sender?"text-indigo-100":"text-indigo-300"}`,children:new Date(e.timestamp).toLocaleTimeString("bg-BG",{hour:"2-digit",minute:"2-digit"})})]})},e.id))})}),(0,r.jsxs)("div",{className:"border-t border-white/20 p-4",children:[(0,r.jsxs)("div",{className:"flex space-x-3",children:[r.jsx("div",{className:"flex-1",children:r.jsx("textarea",{value:b,onChange:e=>f(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),T())},placeholder:"Опишете вашия проблем тук...",className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg resize-none text-white placeholder-indigo-300 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:3,disabled:w})}),r.jsx("button",{onClick:T,disabled:!b.trim()||w,className:"bg-gradient-to-r from-indigo-500 to-pink-500 text-white px-6 py-3 rounded-lg hover:from-indigo-600 hover:to-pink-600 transition-all flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),r.jsx("p",{className:"text-xs text-indigo-300 mt-2",children:"Натиснете Enter за да изпратите или Shift+Enter за нов ред"})]})]}),(0,r.jsxs)("div",{className:"mt-6 bg-white/10 backdrop-blur-md rounded-lg shadow-xl border border-white/20 p-6",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"ℹ️ Полезна информация"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-indigo-200",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-white mb-1",children:"Работно време:"}),r.jsx("p",{children:"Понеделник - Петък: 08:00 - 18:00"}),r.jsx("p",{children:"Събота: 09:00 - 15:00"})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-white mb-1",children:"Спешни случаи:"}),r.jsx("p",{children:"Отговарям в рамките на 15 минути"}),r.jsx("p",{children:"Достъпен 24/7 за аварии"})]})]})]})]})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-indigo-900",children:[r.jsx("div",{className:"bg-white/10 backdrop-blur-md shadow-lg border-b border-white/20",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-xl font-semibold text-white",children:["\uD83D\uDCAC Чат с ",$?.businessName||"техник"]}),r.jsx("p",{className:"text-sm text-indigo-200",children:"Опишете вашия проблем и ще получите бърз отговор"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm text-indigo-200",children:"Онлайн"})]})]})})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:r.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg shadow-xl border border-white/20 min-h-[600px] flex flex-col items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center max-w-md mx-auto p-8",children:[r.jsx("div",{className:"w-16 h-16 bg-indigo-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:$?.businessName?r.jsx("span",{className:"text-indigo-300 font-bold text-lg",children:$.businessName.charAt(0).toUpperCase()}):r.jsx("svg",{className:"w-8 h-8 text-indigo-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,r.jsxs)("h2",{className:"text-2xl font-bold text-white mb-4",children:["Добре дошли в чата с ",$?.businessName||"нас","!"]}),r.jsx("p",{className:"text-indigo-200 mb-6",children:"Готови сме да ви помогнем с вашия проблем. Натиснете бутона по-долу за да започнете разговора."}),r.jsx("button",{onClick:M,className:"bg-gradient-to-r from-indigo-500 to-pink-500 text-white px-8 py-3 rounded-lg hover:from-indigo-600 hover:to-pink-600 transition-all font-medium shadow-lg",children:"Започни чат"}),r.jsx("div",{className:"mt-8 p-4 bg-indigo-500/10 rounded-lg border border-indigo-400/30",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-pink-500 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-sm font-medium",children:$?.businessName?.charAt(0).toUpperCase()||"Т"})}),(0,r.jsxs)("div",{className:"text-left",children:[(0,r.jsxs)("p",{className:"text-sm text-white font-medium mb-1",children:[$?.businessName||"Техник"," - ",$?.serviceCategory==="electrician"?"Електротехник":"Техник"]}),r.jsx("p",{className:"text-sm text-indigo-200",children:"Здравейте! Готов съм да ви помогна с вашия проблем."})]})]})})]})})})]})}},9062:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/var/www/servicetextpro/Marketplace/src/app/u/[spIdentifier]/c/[token]/page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,867,673],()=>s(1393));module.exports=r})();