(()=>{var e={};e.id=716,e.ids=[716],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},8893:e=>{"use strict";e.exports=require("buffer")},1282:e=>{"use strict";e.exports=require("child_process")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},5927:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(5293),r(9468),r(5866);var s=r(3191),i=r(8716),l=r(7922),a=r.n(l),o=r(5231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);r.d(t,n);let d=["",{children:["auth",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5293)),"/var/www/servicetextpro/Marketplace/src/app/auth/login/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9468)),"/var/www/servicetextpro/Marketplace/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/var/www/servicetextpro/Marketplace/src/app/auth/login/page.tsx"],u="/auth/login/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/auth/login/page",pathname:"/auth/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},215:(e,t,r)=>{Promise.resolve().then(r.bind(r,7073))},7073:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(326),i=r(7577),l=r(5047),a=r(434),o=r(4001);function n(){let e=(0,l.useRouter)(),t=(0,l.useSearchParams)(),{login:r}=(0,o.a)(),[n,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)({email:"",password:"",rememberMe:!1}),m=(e,t)=>{u(r=>({...r,[e]:t}))},x=async t=>{if(t.preventDefault(),!c.email||!c.password){alert("Моля въведете имейл и парола");return}d(!0);try{console.log("\uD83D\uDD10 Attempting login with AuthContext...");let t=await r(c.email,c.password);if(t.success)console.log("✅ Login successful via AuthContext"),c.rememberMe?(localStorage.setItem("remember_email",c.email),localStorage.setItem("remember_password",c.password),localStorage.setItem("remember_flag","1")):localStorage.setItem("remember_flag","0"),alert("Успешен вход!"),setTimeout(()=>{e.push("/")},500);else{console.error("❌ Login failed via AuthContext");let e=t.error||"Login failed. Please check your credentials.";t.debugInfo&&console.log("\uD83D\uDD0D Login Debug Info:",t.debugInfo),alert(e)}}catch(e){console.error("❌ Login error:",e),alert("Възникна грешка при входа")}finally{d(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-indigo-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8 relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[s.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-indigo-500/10 to-purple-500/10 rounded-lg blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-gradient-to-br from-blue-500/10 to-slate-500/10 rounded-lg blur-3xl"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-br from-slate-500/5 to-indigo-500/5 rounded-full blur-3xl"})]}),(0,s.jsxs)("div",{className:"relative z-10 sm:mx-auto sm:w-full sm:max-w-md",children:[s.jsx("div",{className:"flex justify-between items-center mb-4",children:(0,s.jsxs)("button",{onClick:()=>e.back(),className:"flex items-center text-slate-300 hover:text-white transition-colors",children:[s.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Назад"]})}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 flex items-center justify-center shadow-lg shadow-indigo-500/50",children:s.jsx("span",{className:"text-3xl",children:"\uD83D\uDD27"})})}),s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Влезте в акаунта си"}),(0,s.jsxs)("p",{className:"mt-2 text-center text-sm text-slate-300",children:["Или"," ",s.jsx(a.default,{href:"/auth/register",className:"font-medium text-indigo-400 hover:text-indigo-300 transition-colors",children:"създайте нов акаунт"})]}),"true"===t.get("registered")&&s.jsx("div",{className:"mt-4 bg-green-500/10 border border-green-500/30 rounded-lg p-4 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-green-400",children:"✓"})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm font-medium text-green-300",children:"Регистрацията е успешна! Моля влезте с вашите данни."})})]})})]}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md relative z-20",children:s.jsx("div",{className:"bg-slate-800/50 backdrop-blur-md border border-white/10 rounded-2xl shadow-2xl p-8",children:(0,s.jsxs)("form",{className:"space-y-6",onSubmit:x,children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-200",children:"Имейл адрес"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:c.email,onChange:e=>m("email",e.target.value),className:"w-full px-4 py-3 bg-slate-700/50 border border-white/10 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"ivan@example.com"})})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-200",children:"Парола"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:c.password,onChange:e=>m("password",e.target.value),className:"w-full px-4 py-3 bg-slate-700/50 border border-white/10 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"••••••••"})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",checked:c.rememberMe,onChange:e=>m("rememberMe",e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-slate-600 rounded bg-slate-700"}),s.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-slate-300",children:"Запомни ме"})]}),s.jsx("div",{className:"text-sm",children:s.jsx("a",{href:"#",className:"font-medium text-indigo-400 hover:text-indigo-300 transition-colors",children:"Забравена парола?"})})]}),s.jsx("div",{children:(0,s.jsxs)("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent rounded-lg text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg shadow-indigo-500/50",children:[s.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:s.jsx("span",{className:"text-indigo-200 group-hover:text-indigo-100",children:"\uD83D\uDD13"})}),n?"Влизане...":"Влезте"]})}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-white/10"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-slate-800 text-slate-400",children:"Нов потребител?"})})]}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[(0,s.jsxs)(a.default,{href:"/auth/register?type=customer",className:"w-full inline-flex justify-center py-2 px-4 border border-white/20 rounded-lg shadow-sm bg-white/5 text-sm font-medium text-slate-300 hover:bg-white/10 hover:text-white transition-all backdrop-blur-sm",children:[s.jsx("span",{children:"\uD83D\uDC64"}),s.jsx("span",{className:"ml-2",children:"Клиент"})]}),(0,s.jsxs)(a.default,{href:"/auth/register?type=provider",className:"w-full inline-flex justify-center py-2 px-4 border border-white/20 rounded-lg shadow-sm bg-white/5 text-sm font-medium text-slate-300 hover:bg-white/10 hover:text-white transition-all backdrop-blur-sm",children:[s.jsx("span",{children:"\uD83D\uDD27"}),s.jsx("span",{className:"ml-2",children:"Доставчик"})]})]})]})]})})})]})}function d(){return s.jsx(i.Suspense,{fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:s.jsx(n,{})})}},5293:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/var/www/servicetextpro/Marketplace/src/app/auth/login/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,867,673],()=>r(5927));module.exports=s})();